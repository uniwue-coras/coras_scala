# /

query AllExercises {
  exercises {
    id
    title
  }
}

# /createExercise

mutation CreateExercise($exerciseInput: ExerciseInput!) {
  createExercise(exerciseInput: $exerciseInput)
}

# /exercises/:exerciseId

fragment ExerciseOverview on Exercise {
  title
  text
  userSolutions {
    username
    correctionStatus
    reviewUuid
  }
}

query ExerciseOverview($exerciseId: Int!) {
  exercise(exerciseId: $exerciseId) {
    ...ExerciseOverview
  }
}

mutation InitiateCorrection($username: String!, $exerciseId: Int!) {
  exerciseMutations(exerciseId: $exerciseId) {
    userSolution(username: $username) {
      initiateCorrection
    }
  }
}

# /exercise/:exerciseId/solutions/submit

query ExerciseTaskDefinition($exerciseId: Int!) {
  exercise(exerciseId: $exerciseId) {
    ...ExerciseTaskDefinition
  }
}

fragment ExerciseTaskDefinition on Exercise {
  title
  text
}

mutation SubmitSolution($exerciseId: Int!, $userSolution: UserSolutionInput!) {
  exerciseMutations(exerciseId: $exerciseId) {
    submitSolution(userSolution: $userSolution)
  }
}

# /correctionReview/:reviewUuid

query CorrectionReview($correctionReviewUuid: String!) {
  reviewCorrection(correctionReviewUuid: $correctionReviewUuid) {
    userSolution {
      ...FlatUserSolutionNode
    }
    sampleSolution {
      ...IFlatSolutionNode
    }
    matches {
      ...SolutionNodeMatch
    }

  }
}
