# /register

mutation Register($registerInput: RegisterInput!) {
  register(registerInput: $registerInput)
}

# /login

fragment LoginResult on LoginResult {
  username
  rights
  jwt
}

mutation Login($loginInput: LoginInput!) {
  login(loginInput: $loginInput) {
    ...LoginResult
  }
}

# /changePassword

mutation ChangePassword($changePasswordInput: ChangePasswordInput!) {
  changePassword(changePasswordInput: $changePasswordInput)
}

# /

query AllExercises {
  exercises {
    id
    title
  }
}

# /createExercise

mutation CreateExercise($exerciseInput: GraphQLExerciseInput!) {
  createExercise(exerciseInput: $exerciseInput)
}

# /exercises/:exerciseId

query ExerciseOverview($exerciseId: Int!) {
  exercise(exerciseId: $exerciseId) {
    title
    text
    solutionSubmitted
    allUsersWithSolution
    corrected
    allUsersWithCorrection
  }
}

# /exercise/:exerciseId/solutions/submit

fragment ExerciseTaskDefinition on Exercise {
  title
  text
}

query ExerciseTaskDefinition($exerciseId: Int!) {
  exercise(exerciseId: $exerciseId) {
    ...ExerciseTaskDefinition
  }
}

mutation SubmitSolution($exerciseId: Int!, $userSolution: GraphQLUserSolutionInput!) {
  exerciseMutations(exerciseId: $exerciseId) {
    submitSolution(userSolution: $userSolution)
  }
}
